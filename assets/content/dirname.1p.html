<pre>
       The <i>string</i> operand shall be treated as a pathname, as defined in
       the Base Definitions volume of POSIX.1‚Äê2017, <i>Section 3.271</i>,
       <i>Pathname</i>.  The string <i>string</i> shall be converted to the name of
       the directory containing the filename corresponding to the last
       pathname component in <i>string</i>, performing actions equivalent to
       the following steps in order:

        1. If <i>string</i> is <b>//</b>, skip steps 2 to 5.

        2. If <i>string</i> consists entirely of &lt;slash&gt; characters, <i>string</i>
           shall be set to a single &lt;slash&gt; character. In this case,
           skip steps 3 to 8.

        3. If there are any trailing &lt;slash&gt; characters in <i>string</i>, they
           shall be removed.

        4. If there are no &lt;slash&gt; characters remaining in <i>string</i>,
           <i>string</i> shall be set to a single &lt;period&gt; character. In this
           case, skip steps 5 to 8.

        5. If there are any trailing non-&lt;slash&gt; characters in <i>string</i>,
           they shall be removed.

        6. If the remaining <i>string</i> is <b>//</b>, it is implementation-defined
           whether steps 7 and 8 are skipped or processed.

        7. If there are any trailing &lt;slash&gt; characters in <i>string</i>, they
           shall be removed.

        8. If the remaining <i>string</i> is empty, <i>string</i> shall be set to a
           single &lt;slash&gt; character.

       The resulting string shall be written to standard output.
</pre>